FROM golang:1.20.3-bullseye as builder
WORKDIR /usr/src/app
COPY . .
CMD ["go", "build", "hello.go"]

FROM scratch
COPY --from=builder /usr/src/app/hello .
CMD [ "./hello" ]